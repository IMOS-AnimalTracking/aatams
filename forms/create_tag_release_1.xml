<?xml version="1.0" encoding="UTF-8"?>
<!-- Created with Liquid XML Studio - FREE Community Edition 7.0.4.795 (http://www.liquid-technologies.com) -->
<?xml-stylesheet href="xsltforms/xsltforms.xsl" type="text/xsl"?>
<html xmlns:aatams="http://www.imos.org.au/aatams" xmlns:xf="http://www.w3.org/2002/xforms" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:wfs="http://www.opengis.net/wfs" xmlns:ogc="http://www.opengis.net/ogc" xmlns:ows="http://www.opengis.net/ows" xmlns="http://www.w3.org/1999/xhtml" xmlns:gml="http://www.opengis.net/gml">
	<head>
		<title>Australian Acoustic Tagging and Monitoring System (AATAMS)</title>
		<link href="aatams.css" rel="stylesheet" type="text/css" />
		<link href="../aatams_tables.css" rel="stylesheet" type="text/css" />
		<xf:model id="model1">
			<xf:instance id="inst_data">
				<wfs:Transaction version="1.1.0" service="WFS">
					<wfs:Insert>
						<wfs:FeatureCollection>
							<gml:featureMember>
								<aatams:tag_release_t>
									<aatams:tag_device_ref>
										<aatams:tag_device />
									</aatams:tag_device_ref>
									<aatams:species_ref>
										<aatams:species />
									</aatams:species_ref>
									<aatams:displayed_classification_level>SPECIES</aatams:displayed_classification_level>
									<aatams:project_person_ref>
										<aatams:project_person />
									</aatams:project_person_ref>
									<aatams:capture_location>
										<gml:Point>
											<gml:pos />
										</gml:Point>
									</aatams:capture_location>
									<aatams:capture_timestamp />
									<aatams:release_location>
										<gml:Point>
											<gml:pos />
										</gml:Point>
									</aatams:release_location>
									<aatams:release_timestamp />
									<aatams:implant_type>INTERNAL</aatams:implant_type>
								</aatams:tag_release_t>
							</gml:featureMember>
						</wfs:FeatureCollection>
					</wfs:Insert>
				</wfs:Transaction>
			</xf:instance>
			<xf:instance id="inst_surgery_prototype">
				<prototype xmlns="">
					<aatams:surgery_ref>
						<aatams:surgery>
							<aatams:animal_ref>
								<aatams:animal>
									<aatams:classification_ref>
										<aatams:classification />
									</aatams:classification_ref>
									<aatams:sex>X</aatams:sex>
									<aatams:protected_species_licence />
									<aatams:description />
								</aatams:animal>
							</aatams:animal_ref>
							<aatams:utc_datetime />
							<aatams:treatment_type_ref>
								<aatams:treatment_type />
							</aatams:treatment_type_ref>
							<aatams:comments />
							<aatams:measurements>
								<aatams:measurement_ref>
									<aatams:measurement>
										<aatams:measurement_type_ref>
											<aatams:measurement_type>
												<aatams:name>Length</aatams:name>
											</aatams:measurement_type>
										</aatams:measurement_type_ref>
										<aatams:measurement_units_ref>
											<aatams:measurement_units>
												<aatams:name>Centimeters(cm)</aatams:name>
											</aatams:measurement_units>
										</aatams:measurement_units_ref>
										<aatams:value />
										<aatams:comments />
									</aatams:measurement>
								</aatams:measurement_ref>
							</aatams:measurements>
							<aatams:personel>
								<aatams:project_person_ref>
									<aatams:project_person />
								</aatams:project_person_ref>
							</aatams:personel>
						</aatams:surgery>
					</aatams:surgery_ref>
				</prototype>
			</xf:instance>
			<xf:instance id="inst_subfeatures">
				<data xmlns="">
					<species_id />
					<classification_level_id>SPECIES</classification_level_id>
					<tag_device_id />
					<implant_type_id />
					<project_id />
					<project_person_id />
				</data>
			</xf:instance>
			<xf:instance id="inst_capture_location">
				<data xmlns="">
					<longitude />
					<latitude />
				</data>
			</xf:instance>
			<xf:instance id="inst_release_location">
				<data xmlns="">
					<longitude />
					<latitude />
				</data>
			</xf:instance>
			<xf:instance id="inst_species" src="../../deegree-wfs/services?service=WFS&amp;version=1.1.0&amp;request=GetFeature&amp;namespace=xmlns(aatams=http://www.imos.org.au/aatams)&amp;typename=aatams:species" />
			<xf:instance id="inst_classification" src="../../deegree-wfs/services?service=WFS&amp;version=1.1.0&amp;request=GetFeature&amp;namespace=xmlns(aatams=http://www.imos.org.au/aatams)&amp;typename=aatams:classification&amp;filter=&lt;ogc:Filter xmlns:ogc='http://www.opengis.net/ogc' xmlns:aatams='http://www.imos.org.au/aatams' xmlns:gml='http://www.opengis.net/gml'&gt;&lt;ogc:PropertyIsEqualTo&gt;&lt;ogc:PropertyName&gt;aatams:classification_level_ref/aatams:classification_level/aatams:name&lt;/ogc:PropertyName&gt;&lt;ogc:Literal&gt;SPECIES&lt;/ogc:Literal&gt;&lt;/ogc:PropertyIsEqualTo&gt;&lt;/ogc:Filter&gt;" />
			<!--xf:instance id="inst_classification_level" src="../../deegree-wfs/services?service=WFS&amp;version=1.1.0&amp;request=GetFeature&amp;namespace=xmlns(aatams=http://www.imos.org.au/aatams)&amp;typename=aatams:classification_level" /-->
			<xf:instance id="inst_tag_device" src="../../deegree-wfs/services?service=WFS&amp;version=1.1.0&amp;request=GetFeature&amp;namespace=xmlns(aatams=http://www.imos.org.au/aatams)&amp;typename=aatams:tag_device" />
			<xf:instance id="inst_implant_type" src="../../deegree-wfs/services?service=WFS&amp;version=1.1.0&amp;request=GetFeature&amp;namespace=xmlns(aatams=http://www.imos.org.au/aatams)&amp;typename=aatams:implant_type" />
			<xf:instance id="inst_project_person" src="../../deegree-wfs/services?service=WFS&amp;version=1.1.0&amp;request=GetFeature&amp;namespace=xmlns(aatams=http://www.imos.org.au/aatams)&amp;typename=aatams:project_person" />
			<xf:instance id="inst_project" src="../../deegree-wfs/services?service=WFS&amp;version=1.1.0&amp;request=GetFeature&amp;namespace=xmlns(aatams=http://www.imos.org.au/aatams)&amp;typename=aatams:project" />
			<xf:instance id="inst_response">
				<dummy xmlns="">
					<ows:Exception />
					<wfs:TransactionResponse>
						<wfs:InsertResults>
							<wfs:Feature>
								<ogc:FeatureId />
							</wfs:Feature>
						</wfs:InsertResults>
					</wfs:TransactionResponse>
				</dummy>
			</xf:instance>
			<xf:bind id="tag_device" nodeset="instance('inst_subfeatures')/tag_device_id" type="xsd:string" required="true()" />
			<xf:bind id="species" nodeset="instance('inst_subfeatures')/species_id" type="xsd:string" required="true()" />
			<xf:bind id="project" nodeset="instance('inst_subfeatures')/project_id" type="xsd:string" required="true()" />
			<xf:bind id="project_person" nodeset="instance('inst_subfeatures')/project_person_id" type="xsd:string" required="true()" />
			<xf:bind id="capture_location_longitude" nodeset="instance('inst_capture_location')/longitude" type="xsd:decimal" required="true()" constraint=". &gt;= -180 and . &lt;= 180" />
			<xf:bind id="capture_location_latitude" nodeset="instance('inst_capture_location')/latitude" type="xsd:decimal" required="true()" constraint=". &gt;= -90 and . &lt;= 90" />
			<xf:bind id="capture_timestamp" nodeset="instance('inst_data')//aatams:capture_timestamp" type="xsd:dateTime" required="true()" />
			<xf:bind id="release_location_longitude" nodeset="instance('inst_release_location')/longitude" type="xsd:decimal" required="true()" constraint=". &gt;= -180 and . &lt;= 180" />
			<xf:bind id="release_location_latitude" nodeset="instance('inst_release_location')/latitude" type="xsd:decimal" required="true()" constraint=". &gt;= -90 and . &lt;= 90" />
			<xf:bind id="release_timestamp" nodeset="instance('inst_data')//aatams:release_timestamp" type="xsd:dateTime" required="true()" />
			<xf:bind id="implant_type" nodeset="instance('inst_subfeatures')/implant_type_id" type="xsd:string" required="false()" />
			<!--xf:bind id="classification_level" nodeset="instance('inst_subfeatures')/classification_level_id" type="xsd:string" required="false()" /-->
			<xf:bind id="classification_level" nodeset="instance('inst_data')//aatams:displayed_classification_level" type="xsd:string" required="true()" />
			<xf:bind id="surgery" nodeset="instance('inst_data')//aatams:surgery_ref/aatams:surgery" required="false()" />
			<xf:bind id="surgery_datetime" nodeset="instance('inst_data')//aatams:surgery_ref/aatams:surgery/aatams:utc_datetime" type="xsd:dateTime" required="true()" />
			<xf:bind id="surgery_datetime" nodeset="instance('inst_data')//aatams:surgery_ref/aatams:surgery/aatams:comments" type="xsd:string" />
			<xf:bind id="measurement_value" nodeset="instance('inst_data')//aatams:measurement/aatams:value" type="xsd:decimal" required="true()" />
			<!-- surgery bindings -->
			<xf:bind id="error_message" nodeset="instance('inst_response')//ServiceException" calculate="choose(contains(.,'Equal feature'),substring-after(.,'. '),.)" type="xsd:string" />
			<xf:bind id="success_message" nodeset="instance('inst_response')//ogc:FeatureId/@fid" type="xsd:string" />
			<xf:submission id="s01" ref="instance('inst_data')" method="post" action="../../deegree-wfs/services" replace="instance" instance="inst_response">
				<xf:action ev:event="xforms-submit">
					<xf:setvalue ref="instance('inst_data')//aatams:capture_location/gml:Point/gml:pos" value="concat(instance('inst_capture_location')/longitude,' ',instance('inst_capture_location')/latitude)" />
					<xf:setvalue ref="instance('inst_data')//aatams:release_location/gml:Point/gml:pos" value="concat(instance('inst_release_location')/longitude,' ',instance('inst_release_location')/latitude)" />
					<xf:insert nodeset="instance('inst_data')//aatams:species_ref/aatams:species" origin="instance('inst_species')/gml:featureMember/aatams:species[@gml:id=instance('inst_subfeatures')/species_id]" />
					<xf:delete nodeset="instance('inst_data')//aatams:species_ref/aatams:species" at="1" />
					<!--cannot have same classification_level feature in twice -->
					<!--xf:insert nodeset="instance('inst_data')//aatams:displayed_classification_level_ref/aatams:classification_level" origin="instance('inst_classification_level')/gml:featureMember/aatams:classification_level[@gml:id=instance('inst_subfeatures')/classification_level_id]" />
					<xf:delete nodeset="instance('inst_data')//aatams:displayed_classification_level_ref/aatams:classification_level" at="1" /-->
					<xf:insert nodeset="instance('inst_data')//aatams:tag_device_ref/aatams:tag_device" origin="instance('inst_tag_device')/gml:featureMember/aatams:tag_device[@gml:id=instance('inst_subfeatures')/tag_device_id]" />
					<xf:delete nodeset="instance('inst_data')//aatams:tag_device_ref/aatams:tag_device" at="1" />
					<xf:insert nodeset="instance('inst_data')//aatams:implant_type_ref/aatams:implant_type" origin="instance('inst_implant_type')/gml:featureMember/aatams:implant_type[@gml:id=instance('inst_subfeatures')/implant_type_id]" />
					<xf:delete nodeset="instance('inst_data')//aatams:implant_type_ref/aatams:implant_type" at="1" />
					<xf:insert nodeset="instance('inst_data')//aatams:project_person_ref/aatams:project_person" origin="instance('inst_project_person')/gml:featureMember/aatams:project_person[@gml:id=instance('inst_subfeatures')/project_person_id]" />
					<xf:delete nodeset="instance('inst_data')//aatams:project_person_ref/aatams:project_person" at="1" />
				</xf:action>
				<xf:message level="modeless" ev:event="xforms-submit-error">
									Submit error.
								</xf:message>
			</xf:submission>
			<xf:dispatch ev:event="xforms-ready" name="set-selected" target="model1" />
			<xf:action ev:event="set-selected">
				<xf:setvalue ref="instance('inst_subfeatures')/species_id" value="instance('inst_species')/gml:featureMember/aatams:species[1]/@gml:id" />
				<xf:setvalue ref="instance('inst_subfeatures')/tag_device_id" value="instance('inst_tag_device')/gml:featureMember/aatams:tag_device[1]/@gml:id" />
				<xf:setvalue ref="instance('inst_subfeatures')/implant_type_id" value="instance('inst_implant_type')/gml:featureMember/aatams:implant_type[1]/@gml:id" />
				<xf:setvalue ref="instance('inst_subfeatures')/project_id" value="instance('inst_project')/gml:featureMember/aatams:project[1]/@gml:id" />
				<xf:setvalue ref="instance('inst_subfeatures')/project_person_id" value="instance('inst_project_person')/gml:featureMember/aatams:project_person[aatams:project_fid=instance('inst_subfeatures')/project_id][1]/@gml:id" />
				<xf:dispatch name="xforms-revalidate" target="model1" />
			</xf:action>
			<xf:action ev:event="set-animal-classification">
				<xf:setvalue ref="instance('inst_data')//aatams:animal/aatams:classification_ref/aatams:classification/aatams:name" value="instance('inst_classification')/gml:featureMember/aatams:classification[1]/@gml:id" />
			</xf:action>
		</xf:model>
	</head>
	<body>
		<div class="form">
			<label>ADD TAG RELEASE</label>
			<div class="form-contents">
				<div class="xfselect1">
					<xf:select1 bind="tag_device" appearance="minimal" incremental="true()">
						<xf:label>Device</xf:label>
						<xf:itemset nodeset="instance('inst_tag_device')/gml:featureMember/aatams:tag_device">
							<xf:value ref="@gml:id" />
							<xf:label ref="aatams:code_name" />
						</xf:itemset>
					</xf:select1>
				</div>
				<div class="xfselect1">
					<xf:select1 bind="species" appearance="minimal" incremental="true()">
						<xf:label>Species Classification</xf:label>
						<xf:itemset nodeset="instance('inst_species')/gml:featureMember/aatams:species">
							<xf:value ref="@gml:id" />
							<xf:label ref="aatams:name" />
						</xf:itemset>
					</xf:select1>
				</div>
				<div class="xfselect1">
					<xf:select1 bind="classification_level" appearance="minimal" incremental="true()">
						<xf:label>Display Classification Level</xf:label>
						<xf:help>Classification level to use for display of data in public access and download (for detection data etc.)</xf:help>
						<!--xf:itemset nodeset="instance('inst_classification_level')/gml:featureMember/aatams:classification_level[not(aatams:name = 'UNDEFINED')]">
							<xf:value ref="@gml:id" />
							<xf:label ref="aatams:name" />
                        </xf:itemset-->
						<xf:item>
							<xf:label>Family</xf:label>
							<xf:value>FAMILY</xf:value>
						</xf:item>
						<xf:item>
							<xf:label>Genus</xf:label>
							<xf:value>GENUS</xf:value>
						</xf:item>
						<xf:item>
							<xf:label>Species</xf:label>
							<xf:value>SPECIES</xf:value>
						</xf:item>
					</xf:select1>
				</div>
				<div class="dependant-selects">
					<div class="xfselect1">
						<xf:select1 bind="project" appearance="minimal" incremental="true()">
							<xf:label>Project</xf:label>
							<xf:itemset nodeset="instance('inst_project')/gml:featureMember/aatams:project">
								<xf:value ref="@gml:id" />
								<xf:label ref="aatams:name" />
							</xf:itemset>
							<xf:action ev:event="xforms-value-changed">
								<xf:setvalue ref="instance('inst_subfeatures')/project_person_id" value="instance('inst_project_person')/gml:featureMember/aatams:project_person[aatams:project_fid=instance('inst_subfeatures')/project_id][1]/@gml:id" />
							</xf:action>
						</xf:select1>
					</div>
					<div class="xfselect1">
						<xf:select1 bind="project_person" appearance="minimal" incremental="true()">
							<xf:label>Person(Role)</xf:label>
							<xf:itemset nodeset="instance('inst_project_person')/gml:featureMember/aatams:project_person[aatams:project_fid=instance('inst_subfeatures')/project_id]">
								<xf:value ref="@gml:id" />
								<xf:label ref="aatams:person_role" />
							</xf:itemset>
						</xf:select1>
					</div>
				</div>
				<div class="xfinput">
					<xf:input bind="capture_location_longitude" incremental="true()">
						<xf:label>Capture Location Longitude</xf:label>
					</xf:input>
				</div>
				<div class="xfinput">
					<xf:input bind="capture_location_latitude" incremental="true()">
						<xf:label>Capture Location Latitude</xf:label>
					</xf:input>
				</div>
				<div class="xfinput">
					<xf:input bind="capture_timestamp" incremental="true()">
						<xf:label>Capture Date &amp; Time</xf:label>
					</xf:input>
				</div>
				<div class="xfinput">
					<xf:input bind="release_location_longitude" incremental="true()">
						<xf:label>Release Location Longitude</xf:label>
					</xf:input>
				</div>
				<div class="xfinput">
					<xf:input bind="release_location_latitude" incremental="true()">
						<xf:label>Release Location Latitude</xf:label>
					</xf:input>
				</div>
				<div class="xfinput">
					<xf:input bind="release_timestamp" incremental="true()">
						<xf:label>Release Date &amp; Time</xf:label>
					</xf:input>
				</div>
				<div class="xfselect1">
					<xf:select1 bind="implant_type" appearance="minimal" incremental="true()">
						<xf:label>Implant Type</xf:label>
						<xf:item>
							<xf:label>Internal</xf:label>
							<xf:value>INTERNAL</xf:value>
						</xf:item>
						<xf:item>
							<xf:label>External</xf:label>
							<xf:value>EXTERNAL</xf:value>
						</xf:item>
						<xf:item>
							<xf:label>Unknown</xf:label>
							<xf:value>UNKNOWN</xf:value>
						</xf:item>
					</xf:select1>
				</div>
				<!-- SURGERY -->
				<div class="xftrigger" style="margin:10px 0px 10px 300px; border:dashed 1px violet;">
					<xf:trigger>
						<xf:label>Add Optional Animal/Surgery Details</xf:label>
						<xf:action ev:event="DOMActivate" if="count(instance('inst_data')//aatams:tag_release_t/aatams:surgery_ref)=0">
							<xf:insert nodeset="instance('inst_data')//aatams:tag_release_t/*" origin="instance('inst_surgery_prototype')/aatams:surgery_ref" at="9" />
						</xf:action>
					</xf:trigger>
				</div>
				<xf:group bind="surgery">
					<xf:group ref="aatams:animal_ref/aatams:animal">
						<label>ANIMAL DETAILS</label>
						<div class="xfoutput">
							<xf:output ref="aatams:classification_ref/aatams:classification/aatams:name">
								<xf:label>Animal Classification</xf:label>
							</xf:output>
						</div>
						<div class="xfselect1">
							<xf:select1 ref="aatams:sex">
								<xf:label>Sex:</xf:label>
								<xf:item>
									<xf:label>Male</xf:label>
									<xf:value>M</xf:value>
								</xf:item>
								<xf:item>
									<xf:label>Female</xf:label>
									<xf:value>F</xf:value>
								</xf:item>
								<xf:item>
									<xf:label>Unknown</xf:label>
									<xf:value>X</xf:value>
								</xf:item>
							</xf:select1>
						</div>
						<div class="xfinput">
							<xf:input ref="aatams:protected_species_licence">
								<xf:label>Protected Species Ref.</xf:label>
							</xf:input>
						</div>
						<div class="xfinput">
							<xf:input ref="aatams:description">
								<xf:label>Description</xf:label>
							</xf:input>
						</div>
					</xf:group>
					<label>SURGERY DETAILS</label>
					<div class="xfinput">
						<xf:input ref="aatams:utc_datetime" type="xsd:timestamp">
							<xf:label>Surgery Date &amp; Time</xf:label>
						</xf:input>
					</div>
					<div class="xftextarea">
						<xf:textarea ref="aatams:comments">
							<xf:label>Comments</xf:label>
						</xf:textarea>
					</div>
					<label>MEASUREMENTS</label>
					<table style="float:left;clear:left;border:solid 1px gray;">
						<thead>
							<tr>
								<th>Type</th>
								<th>Units</th>
								<th>Value</th>
								<th>Remove</th>
							</tr>
						</thead>
						<tbody>
							<xf:repeat id="measurements" nodeset="aatams:measurements/aatams:measurement_ref">
								<tr>
									<td>
										<xf:input ref="aatams:measurement/aatams:measurement_type_ref/aatams:measurement_type/aatams:name">
										</xf:input>
									</td>
									<td>
										<xf:input ref="aatams:measurement/aatams:measurement_units_ref/aatams:measurement_units/aatams:name">
										</xf:input>
									</td>
									<td>
										<xf:input ref="aatams:measurement/aatams:value">
										</xf:input>
									</td>
									<td style="text-align:center;">
										<xf:trigger>
											<xf:label>X</xf:label>
											<xf:delete nodeset="." at="1" if="count(./..) &gt; 1" ev:event="DOMActivate" />
										</xf:trigger>
									</td>
								</tr>
							</xf:repeat>
						</tbody>
					</table>
					<div class="xftrigger">
						<xf:trigger>
							<xf:label>Add Measurement</xf:label>
							<xf:insert nodeset="aatams:measurements/aatams:measurement_ref" at="index('measurements')" position="after" ev:event="DOMActivate" />
						</xf:trigger>
					</div>
					<!--label>PERSONNEL</label>
                    <table style="float:left;clear:left;border:solid 1px gray;">
                        <thead>
                            <tr>
                                <th>Type</th>
                                <th>Units</th>
                                <th>Value</th>
                                <th>Remove</th>
                            </tr>
                        </thead>
                        <tbody>
                            <xf:repeat id="measurements" nodeset="aatams:measurements/aatams:measurement_ref">
                                <tr>
                                    <td>
                                        <xf:input ref="aatams:measurement/aatams:measurement_type_ref/aatams:measurement_type/aatams:name">
						                </xf:input>
                                    </td>
                                    <td>
					                	<xf:input ref="aatams:measurement/aatams:measurement_units_ref/aatams:measurement_units/aatams:name">
					                	</xf:input>
                                    </td>
                                    <td>
						                <xf:input ref="aatams:measurement/aatams:value">
						                </xf:input>
                                    </td>
                                    <td style="text-align:center;">
						                <xf:trigger>
						                    <xf:label>X</xf:label>
                                            <xf:delete nodeset="." at="1" if="count(./..) > 1" ev:event="DOMActivate" />
						                </xf:trigger>
                                    </td>
                                </tr>
                            </xf:repeat>
                        </tbody>                       
                    </table>
                    <div class="xftrigger">
                    <xf:trigger>
					    <xf:label>Add Measurement</xf:label>
					    <xf:insert nodeset="aatams:measurements/aatams:measurement_ref" at="index('measurements')"
                        position="after" ev:event="DOMActivate" />
                    </xf:trigger>
                    </div-->
					<!--aatams:surgery>
						<aatams:animal_ref>
							<aatams:animal>
								<aatams:classification_ref>
									<aatams:classification />
								</aatams:classification_ref>
								<aatams:sex />
								<aatams:protected_classification_reference />
								<aatams:description />
							</aatams:animal>
						</aatams:animal_ref>
						<aatams:utc_datetime />
						<aatams:treatment_type_ref>
							<aatams:treatment_type />
						</aatams:treatment_type_ref>
						<aatams:comments />
						<aatams:measurements>
							<aatams:measurement_ref>
								<aatams:measurement>
									<aatams:measurement_type_ref>
										<aatams:measurement_type>
											<aatams:name>Length</aatams:name>
										</aatams:measurement_type>
									</aatams:measurement_type_ref>
									<aatams:measurement_units_ref>
										<aatams:measurement_units>
											<aatams:name>Centimeters(cm)</aatams:name>
										</aatams:measurement_units>
									</aatams:measurement_units_ref>
									<aatams:value />
									<aatams:comments />
								</aatams:measurement>
							</aatams:measurement_ref>
						</aatams:measurements>
						<aatams:personel>
							<aatams:project_person_ref>
								<aatams:project_person />
							</aatams:project_person_ref>
						</aatams:personel>
					</aatams:surgery-->
					<div class="xfoutput">
						<xf:output ref="aatams:classification_ref/aatams:classification/aatams:name">
							<xf:label>:</xf:label>
						</xf:output>
					</div>
					<div class="xftrigger" style="margin:10px 0px 10px 300px;">
						<xf:trigger>
							<xf:label>Remove Surgery Details</xf:label>
							<xf:action ev:event="DOMActivate">
								<xf:delete nodeset="context()/.." at="1" />
							</xf:action>
						</xf:trigger>
					</div>
				</xf:group>
				<!-- END SURGERY -->
				<div class="buttons">
					<div class="xfsubmit">
						<xf:submit submission="s01">
							<xf:label>Save</xf:label>
						</xf:submit>
					</div>
					<div class="xftrigger" style="clear:none;">
						<xf:trigger>
							<xf:label>Reset</xf:label>
							<xf:reset ev:event="DOMActivate" />
							<xf:dispatch ev:event="DOMActivate" name="set-selected" target="model1" />
							<xf:delete ev:event="DOMActivate" nodeset="instance('inst_response')//ServiceException" />
							<xf:delete ev:event="DOMActivate" nodeset="instance('inst_response')//ogc:FeatureId/@fid" />
						</xf:trigger>
					</div>
				</div>
				<div id="messages">
					<div id="error-message">
						<xf:output bind="error_message">
							<xf:label>Error:</xf:label>
						</xf:output>
					</div>
					<div id="success-message">
						<xf:output bind="success_message">
							<xf:label>New Record Id:</xf:label>
						</xf:output>
					</div>
				</div>
			</div>
		</div>
		<br />
		<div id="console" />
	</body>
</html>