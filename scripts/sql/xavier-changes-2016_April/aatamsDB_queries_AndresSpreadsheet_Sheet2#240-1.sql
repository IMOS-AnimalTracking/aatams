set search_path = aatams, public;

begin;

---- Fix issues listed in Andre's spreadsheet, Sheet 2

-------------------- 
-- Delete all tag IDs that are labelled as PINGER; they are all sensor tags
DELETE FROM sensor 
WHERE transmitter_type_id = 33 AND transmitter_id IN ('A69-9002-6722','A69-9002-6723','A69-9002-6724','A69-9002-6725','A69-9002-6726','A69-9002-8446','A69-9002-6733','A69-9002-8873','A69-9002-4018','A69-9002-4019',
'A69-9002-4020','A69-9002-4021','A69-9002-4022','A69-9002-4024','A69-9002-4025','A69-9002-6704','A69-9002-7033','A69-9002-13807','A69-9002-13808','A69-9002-13822','A69-9002-13823',
'A69-9002-14738','A69-9002-14739','A69-9002-14740','A69-9002-14741','A69-9002-14742','A69-9002-14773','A69-9002-14774','A69-9002-14775','A69-9002-14776','A69-9002-14777','A69-9002-14778',
'A69-9002-14779','A69-9002-14780','A69-9002-14781','A69-9002-14782','A69-9002-14783','A69-9002-14784','A69-9002-14785','A69-9002-14786','A69-9002-14787','A69-9002-14788','A69-9002-14789',
'A69-9002-14790','A69-9002-14791','A69-9002-14792','A69-9002-14812','A69-9002-7009','A69-9002-7010','A69-9002-7011','A69-9002-7012','A69-9002-7013','A69-9002-7014','A69-9002-7015',
'A69-9002-7016','A69-9002-7017','A69-9002-7018','A69-9002-7019','A69-9002-7020','A69-9002-7021','A69-9002-7022','A69-9002-7023','A69-9002-7024','A69-9002-7025','A69-9002-7026','A69-9002-7027','A69-9002-7028');

---- Test results
-- SELECT s.*, tt.*
-- FROM sensor s
-- JOIN transmitter_type tt ON s.transmitter_type_id = tt.id
-- WHERE s.transmitter_id IN ('A69-9002-6722','A69-9002-6723','A69-9002-6724','A69-9002-6725','A69-9002-6726','A69-9002-8446','A69-9002-6733','A69-9002-8873','A69-9002-4018','A69-9002-4019',
-- 'A69-9002-4020','A69-9002-4021','A69-9002-4022','A69-9002-4024','A69-9002-4025','A69-9002-6704','A69-9002-7033','A69-9002-13807','A69-9002-13808','A69-9002-13822','A69-9002-13823',
-- 'A69-9002-14738','A69-9002-14739','A69-9002-14740','A69-9002-14741','A69-9002-14742','A69-9002-14773','A69-9002-14774','A69-9002-14775','A69-9002-14776','A69-9002-14777','A69-9002-14778',
-- 'A69-9002-14779','A69-9002-14780','A69-9002-14781','A69-9002-14782','A69-9002-14783','A69-9002-14784','A69-9002-14785','A69-9002-14786','A69-9002-14787','A69-9002-14788','A69-9002-14789',
-- 'A69-9002-14790','A69-9002-14791','A69-9002-14792','A69-9002-14812','A69-9002-7009','A69-9002-7010','A69-9002-7011','A69-9002-7012','A69-9002-7013','A69-9002-7014','A69-9002-7015',
-- 'A69-9002-7016','A69-9002-7017','A69-9002-7018','A69-9002-7019','A69-9002-7020','A69-9002-7021','A69-9002-7022','A69-9002-7023','A69-9002-7024','A69-9002-7025','A69-9002-7026','A69-9002-7027','A69-9002-7028');

commit;